<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset="utf-8" />
	<title>Task-jQuery&AJAX</title>

	<style type="text/css">
		body {
			width: calc(100% - 20px);
			height: calc(100% - 20px);

			margin: 0;
			padding: 10px 10px;

			display: flex;

			font-family: 'Roboto', sans-serif;			
		}

		.main {
			background-color: #93C8FF;

			height: 500px;
			width: 800px;
			margin: 0 auto;

			border-radius: 5px;
		}

		.head {
			display: inline-block;
		}
		h2 {
			text-align: center;
		}

		.formRequest {
			margin: 0 10px;

			font-size: 15pt;
		}
		.formButton {
			width: 40px;
			height: 30px;
		}

		.result {
			width: 80%;
			margin: 0 auto;
		}
		.result thead{
			text-align: center;
		}
		.result tbody td{
			padding-left: 20%;
		}

		.buttons {
			position: fixed;
		}
		.madeby {
			position: fixed;
			bottom: 4px;
			left: 4px;
			color: rgba(0,0,0,.38);
			font-size: 12pt;
		}
	</style>

	<!-- <script type="text/javascript" src="jquery/jquery-2.2.4.js"></script> -->
	<!-- <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script> -->
	<!-- <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script> -->
    <script data-require="jquery@2.1.1" data-semver="1.9.1" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>



</head>
<body>
	<div class="main">

		<h2>Heroes</h2>

		<hr>

		<form>
			<div class="head">			
				<input class="formRequest" id="request" placeholder="Text"/>
				<input class="formButton" type="button" value="GO" id="run" />
				<span>Stat</span>
			</div>

			<div id="load"></div>

			<table class="result" id="result">
				<thead>
					<tr>
						<td><b>Name</b></td>
						<td><b>Episodes</b></td>
					</tr>
				</thead>
			</table>

			<div class="buttons">
				<input type="button" value="< Previous" id="prev" />
				<input type="button" value="Next >" id="next" />
			</div>

		</form>
	</div>

	<span class="madeby">Made by DM</span>




	<script type="text/javascript">
		window.onload = function() {
			// var $runButton = document.getElementById("run");

			// // Run!
			// $runButton.addEventListener("click", search);

			// function search() {
			// 	// получение данных из формы
			// 	var $request = document.getElementById("request").value;

			// 	console.log($request);

			// };		

			// обработка событий			
			// вставка данных из ответа в таблицу
			// пагинация

		};

		// по завершению загрузки страницы
		$(document).ready(function() {
			// вешаем на клик по элементу с id = run
			$('#run').click(function() {
				var showData = $('#result'),
					load = $('#load');

				// загрузку JSON данных из файла heroes.json
				$.getJSON('heroes.json', function(data) {
					console.log(data);

					// итерация 
					/*var items = data.heroes.map(function(item) {
						return item.name + ': ' + item.episode;
					});

					// удаление сообщения о загрузке 
					load.empty();

					// формирование данных
					if (items.length) {
						var content = '<tr><td>' + items.join('</td><td>') + '</td></tr>';
						var list = $('<table />').html(content);
						showData.append(list);
					}*/


					var items = data.heroes.map(function(item) {
						return '<tr><td>' + item.name + '</td><td>'+ item.episode + '</td></tr>';
					});

					// удаление сообщения о загрузке 
					load.empty();

					// формирование данных
					if (items.length) {
						// var content =  items.join();
						// var list = $('<table />').html(content);

						// showData.append(list);
						showData.append(items.join());
					}


					// $('#result').append('<tr><td>' + data.heroes.name + '</td><td>' + data.heroes.episode + '</td></tr>');

				});

				// сообщение о загрузке
				load.text('Loading the JSON file.');
			});
		});		
	</script>
</body>
</html>