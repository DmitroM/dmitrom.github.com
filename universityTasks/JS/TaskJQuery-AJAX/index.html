<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset="utf-8" />
	<title>Task-jQuery&AJAX</title>

	<style type="text/css">
		body {
			width: calc(100% - 20px);
			height: calc(100% - 20px);

			margin: 0;
			padding: 10px 10px;

			display: flex;

			font-family: 'Roboto', sans-serif;			
		}

		.main {
			background-color: #93C8FF;

			width: 800px;
			margin: 0 auto;

			border-radius: 5px;

			position: relative;
		}

		h2 {
			text-align: center;
		}

		.head {
			display: inline-block;
			width: 100%;
			
		}
		.formRequest {
			margin: 0 10px;

			font-size: 15pt;
		}
		.formButton {
			width: 40px;
			height: 35px;
		}
		.quantity {
			text-align: right;
			float: right;

			margin: 7px 2% 0 0;
		}

		.load {
			text-align: center;
			font-size: 35pt;
		}

		.result {
			width: 80%;
			margin: 0 auto;
		}
		.result thead{
			text-align: center;
		}
		.result tbody td{
			padding-left: 20%;
		}

		.buttons {
			margin: 5px 7px 20px 7px;
		}
		.prevButton {
			width: 100px;
			height: 35px;

			font-size: 11pt;
		}
		.nextButton {
			position: absolute;
			right: 7px;

			width: 70px;
			height: 35px;

			font-size: 11pt;
		}

		.madeby {
			position: fixed;
			bottom: 4px;
			left: 4px;
			color: rgba(0,0,0,.38);
			font-size: 12pt;
		}
	</style>

	<!-- <script type="text/javascript" src="jquery/jquery-2.2.4.js"></script> -->
	<!-- <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script> -->
	<!-- <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script> -->
    <script data-require="jquery@2.1.1" data-semver="1.9.1" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>



</head>
<body>
	<div class="main">

		<h2>Heroes</h2>

		<hr>

		<form>
			<div class="head">			
				<input class="formRequest" id="request" placeholder="Text"/>
				<input class="formButton" type="button" value="GO" id="run" />
				<p class="quantity" id="quantity"></p>
			</div>

			<div class="load" id="load"></div>

			<table class="result" id="result">
				<thead>
					<tr>
						<td><b>Name</b></td>
						<td><b>Episodes</b></td>
					</tr>
				</thead>
			</table>

			<div class="buttons">
				<input type="button" value="← Previous" class="prevButton" id="prev" />
				<input type="button" value="Next →" class="nextButton" id="next" />
			</div>

		</form>
	</div>

	<span class="madeby">Made by DM</span>




	<script type="text/javascript">
		window.onload = function() {
			// var $runButton = document.getElementById("run");

			// // Run!
			// $runButton.addEventListener("click", search);

			// function search() {
			// 	// получение данных из формы
			// 	var $request = document.getElementById("request").value;

			// 	console.log($request);

			// };		

			// обработка событий			
			// вставка данных из ответа в таблицу
			// пагинация

		};

		// по завершению загрузки страницы
		$(document).ready(function() {
			var showData = $('#result'),
				load = $('#load'),
				quantity = $('#quantity'),
				counterList,
				nextList = false,
				prevList = false;


			// загрузку JSON данных из файла heroes.json
			$.getJSON('heroes.json', function(data) {
				console.log(data);

				// формирование итерации по данным 
				var items = data.heroes.map(function(item) {
					return '<tr><td>' + item.name + '</td><td>'+ item.episode + '</td></tr>';
				});

				// удаление сообщения о загрузке 
				load.empty();

				// обновление числа пунктов на странице и всего количества
				quantity.empty();
				quantity.append('Show 10 of ' + items.length);

				// формирование и вывод данных
				if (items.length) {
					// var content =  items.join();
					// var list = $('<table />').html(content);

					// showData.append(list);

					// showData.append(items.join());

					// for (var i =  0; i < items.length; i++) {
						// if (i < 10) {
							$.each(data.heroes, function(key, value ) {
								console.log( key + ": " + value.name );
								while(key < 10){
									// showData.append('<tr><td>' + value.name + '</td><td>' + value.episode + '</td></tr>');
									showData.append(items);
								}
								
							});
						// }
					// }					
				}



				// $('#result').append('<tr><td>' + data.heroes.name + '</td><td>' + data.heroes.episode + '</td></tr>');

			});

			// перемотка назад
			$('#prev').click(function() {

				// сообщение о загрузке
				load.text('Loading the JSON file.');
			});

			// перемотка вперед
			$('#next').click(function() {

				// сообщение о загрузке
				load.text('Loading the JSON file.');
			});




			// поиск по запросу
			$('#run').click(function() {
				

			

				// сообщение о загрузке
				load.text('Loading the JSON file.');
			});
		});		
	</script>
</body>
</html>