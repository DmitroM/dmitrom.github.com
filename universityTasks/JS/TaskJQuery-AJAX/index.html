<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset="utf-8" />
	<title>Task-jQuery&AJAX</title>

	<style type="text/css">
		body {
			
		}

		.main {
			background-color: #93C8FF;
			width: 800px;
			margin: 0 auto;

			border-radius: 2px;
		}

		.head {
			display: inline-block;
		}

		.result {

		}

		.buttons {

		}
	</style>

	<!-- <script type="text/javascript" src="jquery/jquery-2.2.4.js"></script> -->
	<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>

	<script>
		var ws = new WebSocket("ws://localhost:8181");
		ws.onopen = function(e) {
			console.log('Connection to server opened');
		};
		
		function sendMessage() {
			ws.send($('#message').val());
		};
	</script>
</head>
<body>
	<div class="main">

		<h2>Heroes</h2>

		<form>
			<div class="head">			
				<input class="formRequest" id="request" />
				<input type="button" value="GO" id="run" />
				<div>Stat</div>
			</div>

			<table class="result" id="result">
				<tr>
					<td><b>Name</b></td>
					<td><b>Episodes</b></td>
				</tr>
				<tr>
					<td>a</td>
					<td>1</td>
				</tr>
				<tr>
					<td>b</td>
					<td>2</td>
				</tr>
				<tr>
					<td>c</td>
					<td>3</td>
				</tr>
				<tr>
					<td>d</td>
					<td>4</td>
				</tr>
			</table>

			<div class="buttons">
				<input type="button" value="< Previous" id="prev" />
				<input type="button" value="Next >" id="next" />
			</div>

		</form>
	</div>


	<script type="text/javascript">
		window.onload = function() {
			// var $runButton = document.getElementById("run");

			// // Run!
			// $runButton.addEventListener("click", search);

			// function search() {
			// 	// получение данных из формы
			// 	var $request = document.getElementById("request").value;

			// 	console.log($request);

			// };

			 
			

			// обработка событий
			
			// вставка данных из ответа в таблицу

			// пагинация

		};

		// по завершению загрузки страницы
		$(document).ready(function(){
			// вешаем на клик по элементу с id = run
			$('#run').click(function(){
				// загрузку JSON данных из файла heroes.json
				$.getJSON('/universityTasks/JS/TaskJQuery-AJAX/ajax/heroes.json', {}, function(json){
					// заполняем DOM элемент данными из JSON объекта
					$('#result').html('');
					
					$('#result').append('To: ' + json.note.to + '<br/>')
								.append('From: ' + json.note.from + '<br/>')
								.append('<b>' + json.note.heading + '</b><br/>')
								.append(json.note.body + '<br/>');
			    });
			});
		});
	</script>
</body>
</html>